<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Tools - Toolflock</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <style>
        .pdf-tools-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .tool-header {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .tool-header h1 {
            margin: 0 0 16px 0;
            font-size: 42px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent), var(--neon));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: shine 6s linear infinite;
        }
        
        .tool-header p {
            font-size: 18px;
            color: var(--muted);
            margin: 0;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 32px;
            margin-bottom: 60px;
        }
        
        .tool-card {
            background: var(--card);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 20px;
            padding: 32px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .tool-card::before {
            content: "";
            position: absolute;
            inset: -1px;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, rgba(122,92,255,.3), rgba(76,209,255,.2), rgba(122,92,255,.3));
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            mask-composite: exclude;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .tool-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        
        .tool-card:hover::before {
            opacity: 1;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .card-icon {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            background: linear-gradient(135deg, rgba(122,92,255,0.2), rgba(76,209,255,0.15));
            border: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
        }
        
        .tool-card:hover .card-icon {
            background: linear-gradient(135deg, rgba(122,92,255,0.3), rgba(76,209,255,0.25));
            transform: scale(1.1);
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text);
            margin: 0;
        }
        
        .card-description {
            color: var(--muted);
            margin: 0 0 24px 0;
            line-height: 1.5;
            font-size: 15px;
        }
        
        .upload-zone {
            border: 2px dashed rgba(122,92,255,0.3);
            border-radius: 16px;
            padding: 32px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(122,92,255,0.02);
            margin-bottom: 20px;
            position: relative;
        }
        
        .upload-zone:hover {
            border-color: rgba(122,92,255,0.5);
            background: rgba(122,92,255,0.05);
            transform: translateY(-2px);
        }
        
        .upload-zone.dragover {
            border-color: var(--accent);
            background: rgba(122,92,255,0.1);
            transform: scale(1.02);
        }
        
        .upload-zone i {
            font-size: 32px;
            color: var(--accent);
            margin-bottom: 12px;
            display: block;
        }
        
        .upload-zone p {
            margin: 0;
            color: var(--muted);
            font-size: 14px;
        }
        
        .file-input {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .file-info {
            display: none;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: rgba(76,209,255,0.1);
            border: 1px solid rgba(76,209,255,0.2);
            border-radius: 12px;
            margin-bottom: 20px;
            color: var(--neon);
        }
        
        .file-info.active {
            display: flex;
        }
        
        .file-info i {
            font-size: 18px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            color: var(--text);
            font-weight: 500;
            font-size: 14px;
        }
        
        .form-group input {
            width: 100%;
            height: 48px;
            padding: 0 16px;
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 12px;
            background: rgba(5,8,22,0.4);
            color: var(--text);
            font-size: 15px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(122,92,255,0.12);
            background: rgba(5,8,22,0.6);
        }
        
        .form-group input::placeholder {
            color: var(--muted);
            opacity: 0.7;
        }
        
        .btn-primary {
            width: 100%;
            height: 52px;
            background: linear-gradient(135deg, var(--accent), var(--accent-2));
            border: none;
            border-radius: 14px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 8px 25px rgba(122,92,255,0.25);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(122,92,255,0.35);
        }
        
        .btn-primary:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin-top: 16px;
            overflow: hidden;
            display: none;
        }
        
        .progress-bar.active {
            display: block;
        }
        
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--neon));
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 3px;
        }
        
        .feature-highlight {
            background: rgba(122,92,255,0.05);
            border: 1px solid rgba(122,92,255,0.15);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 32px;
            text-align: center;
        }
        
        .feature-highlight h3 {
            margin: 0 0 8px 0;
            color: var(--accent);
            font-size: 18px;
            font-weight: 600;
        }
        
        .feature-highlight p {
            margin: 0;
            color: var(--muted);
            font-size: 14px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 40px;
        }
        
        .feature-item {
            text-align: center;
            padding: 20px;
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        .feature-item i {
            font-size: 24px;
            color: var(--accent);
            margin-bottom: 8px;
            display: block;
        }
        
        .feature-item h4 {
            margin: 0 0 4px 0;
            color: var(--text);
            font-size: 14px;
            font-weight: 600;
        }
        
        .feature-item p {
            margin: 0;
            color: var(--muted);
            font-size: 12px;
        }
        
        @media (max-width: 768px) {
            .tools-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .tool-card {
                padding: 24px;
            }
            
            .upload-zone {
                padding: 24px 16px;
            }
            
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
            .card-icon i {
            font-size: 28px;
            color: var(--accent);
        }
    </style>
</head>
<body>
    {% include 'header.html' %}
    <div class="pdf-tools-container">
        <div class="tool-header">
            <h1>PDF Tools Suite</h1>
            <p>Professional-grade PDF manipulation tools designed for efficiency and quality. Secure, fast, and completely free.</p>
        </div>
        
        <div class="features-grid">
            <div class="feature-item">
                <i class='bx bx-shield-check'></i>
                <h4>100% Secure</h4>
                <p>Files processed locally</p>
            </div>
            <div class="feature-item">
                <i class='bx bx-rocket'></i>
                <h4>Lightning Fast</h4>
                <p>Instant processing</p>
            </div>
            <div class="feature-item">
                <i class='bx bx-infinite'></i>
                <h4>No Limits</h4>
                <p>Unlimited usage</p>
            </div>
            <div class="feature-item">
                <i class='bx bx-medal'></i>
                <h4>High Quality</h4>
                <p>Premium output</p>
            </div>
        </div>
        
        <div class="tools-grid">
            <!-- Merge PDF -->
            <div class="tool-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class='bx bx-merge'></i>
                    </div>
                    <div>
                        <h3 class="card-title">Merge PDFs</h3>
                    </div>
                </div>
                <p class="card-description">Combine multiple PDF files into a single document while maintaining quality and formatting. Perfect for consolidating reports, presentations, or documents.</p>
                <form id="mergePdfForm" class="tool-form">
                    <div class="upload-zone" id="mergeUploadZone">
                        <i class='bx bx-cloud-upload'></i>
                        <p><strong>Drop PDF files here</strong> or click to browse</p>
                        <small style="color: var(--muted); margin-top: 8px; display: block;">Multiple files supported • Max 50MB each</small>
                        <input type="file" id="mergeFiles" name="files" accept=".pdf" multiple required class="file-input">
                    </div>
                    <div class="file-info" id="mergeFileInfo">
                        <i class='bx bx-file'></i>
                        <span id="mergeFileNames"></span>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class='bx bx-merge'></i>
                        Merge PDFs
                    </button>
                    <div class="progress-bar" id="mergeProgress">
                        <div class="progress-bar-fill"></div>
                    </div>
                </form>
            </div>

            <!-- Split PDF -->
            <div class="tool-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class='bx bx-cut'></i>
                    </div>
                    <div>
                        <h3 class="card-title">Split PDF</h3>
                    </div>
                </div>
                <p class="card-description">Extract specific pages or page ranges from your PDF documents. Ideal for separating chapters, sections, or creating custom documents from larger files.</p>
                <form id="splitPdfForm" class="tool-form">
                    <div class="upload-zone" id="splitUploadZone">
                        <i class='bx bx-cloud-upload'></i>
                        <p><strong>Drop PDF file here</strong> or click to browse</p>
                        <small style="color: var(--muted); margin-top: 8px; display: block;">Single file • Max 50MB</small>
                        <input type="file" id="splitFile" name="file" accept=".pdf" required class="file-input">
                    </div>
                    <div class="file-info" id="splitFileInfo">
                        <i class='bx bx-file'></i>
                        <span id="splitFileName"></span>
                    </div>
                    <div class="form-group">
                        <label>
                            <i class='bx bx-selection'></i>
                            Page Range
                        </label>
                        <input type="text" id="pageRange" name="pages" placeholder="e.g., 1-3,5,7-9 or 1,3,5" required>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class='bx bx-cut'></i>
                        Split PDF
                    </button>
                    <div class="progress-bar" id="splitProgress">
                        <div class="progress-bar-fill"></div>
                    </div>
                </form>
            </div>

            <!-- Compress PDF -->
            <div class="tool-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class='bx bx-compress'></i>
                    </div>
                    <div>
                        <h3 class="card-title">Compress PDF</h3>
                    </div>
                </div>
                <p class="card-description">Reduce PDF file size without compromising quality. Smart compression algorithms optimize images and content for faster sharing and storage.</p>
                <form id="compressPdfForm" class="tool-form">
                    <div class="upload-zone" id="compressUploadZone">
                        <i class='bx bx-cloud-upload'></i>
                        <p><strong>Drop PDF file here</strong> or click to browse</p>
                        <small style="color: var(--muted); margin-top: 8px; display: block;">Single file • Max 50MB</small>
                        <input type="file" id="compressFile" name="file" accept=".pdf" required class="file-input">
                    </div>
                    <div class="file-info" id="compressFileInfo">
                        <i class='bx bx-file'></i>
                        <span id="compressFileName"></span>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class='bx bx-compress'></i>
                        Compress PDF
                    </button>
                    <div class="progress-bar" id="compressProgress">
                        <div class="progress-bar-fill"></div>
                    </div>
                </form>
            </div>

            <!-- PDF to Word -->
            <div class="tool-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class='bx bxl-microsoft'></i>
                    </div>
                    <div>
                        <h3 class="card-title">PDF to Word</h3>
                    </div>
                </div>
                <p class="card-description">Convert PDF documents to editable Word format with precise formatting preservation. Maintain layouts, fonts, and images for seamless editing.</p>
                <form id="pdfToWordForm" class="tool-form">
                    <div class="upload-zone" id="wordUploadZone">
                        <i class='bx bx-cloud-upload'></i>
                        <p><strong>Drop PDF file here</strong> or click to browse</p>
                        <small style="color: var(--muted); margin-top: 8px; display: block;">Single file • Max 50MB</small>
                        <input type="file" id="pdfToWordFile" name="file" accept=".pdf" required class="file-input">
                    </div>
                    <div class="file-info" id="wordFileInfo">
                        <i class='bx bx-file'></i>
                        <span id="wordFileName"></span>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class='bx bx-transfer-alt'></i>
                        Convert to Word
                    </button>
                    <div class="progress-bar" id="wordProgress">
                        <div class="progress-bar-fill"></div>
                    </div>
                </form>
            </div>

            <!-- PDF to Excel -->
            <div class="tool-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class='bx bx-table'></i>
                    </div>
                    <div>
                        <h3 class="card-title">PDF to Excel</h3>
                    </div>
                </div>
                <p class="card-description">Extract tables and data from PDF documents into Excel spreadsheets. Perfect for financial reports, data analysis, and converting static data to workable formats.</p>
                <form id="pdfToExcelForm" class="tool-form">
                    <div class="upload-zone" id="excelUploadZone">
                        <i class='bx bx-cloud-upload'></i>
                        <p><strong>Drop PDF file here</strong> or click to browse</p>
                        <small style="color: var(--muted); margin-top: 8px; display: block;">Single file • Max 50MB</small>
                        <input type="file" id="pdfToExcelFile" name="file" accept=".pdf" required class="file-input">
                    </div>
                    <div class="file-info" id="excelFileInfo">
                        <i class='bx bx-file'></i>
                        <span id="excelFileName"></span>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class='bx bx-spreadsheet'></i>
                        Convert to Excel
                    </button>
                    <div class="progress-bar" id="excelProgress">
                        <div class="progress-bar-fill"></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="modern-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <h3>Toolflock</h3>
                <p>Empowering creativity with premium digital tools. Built with passion for developers, designers, and creators worldwide.</p>
            </div>
            <div class="footer-links">
                <div class="footer-column">
                    <h4>Tools</h4>
                    <a href="/pdf">PDF Tools</a>
                    <a href="/file-converter">File Converter</a>
                    <a href="/shortener">URL Shortener</a>
                    <a href="/qr">QR Generator</a>
                </div>
                <div class="footer-column">
                    <h4>Company</h4>
                    <a href="/about">About Us</a>
                    <a href="/contact">Contact</a>
                    <a href="/privacy">Privacy Policy</a>
                    <a href="/terms">Terms of Service</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Toolflock by Erekan. Crafted with ❤️ for the global community.</p>
            <div class="footer-tagline">
                <span>✨ Where Innovation Meets Utility ✨</span>
            </div>
        </div>
    </footer>
    <script src="/static/profile-drawer.js"></script>
    <script>
      // Theme toggle functionality
      const themeToggle = document.getElementById('themeToggle');
      const body = document.body;
      
      const savedTheme = localStorage.getItem('toolflock-theme') || 'dark';
      if (savedTheme === 'light') {
        body.classList.add('light-theme');
        themeToggle.textContent = '☀️';
      }
      
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          body.classList.toggle('light-theme');
          const isLight = body.classList.contains('light-theme');
          themeToggle.textContent = isLight ? '☀️' : '🌙';
          localStorage.setItem('toolflock-theme', isLight ? 'light' : 'dark');
        });
      }
      
      // Profile dropdown
      const profileBtn = document.getElementById('profileBtn');
      const profileDropdown = document.getElementById('profileDropdown');
      
      if (profileBtn && profileDropdown) {
        profileBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          profileDropdown.style.display = profileDropdown.style.display === 'block' ? 'none' : 'block';
        });
        
        document.addEventListener('click', () => {
          profileDropdown.style.display = 'none';
        });
      }
      
      // Setup file upload zones
      function setupUploadZone(zoneId, inputId, infoId, nameId, multiple = false) {
        const zone = document.getElementById(zoneId);
        const input = document.getElementById(inputId);
        const info = document.getElementById(infoId);
        const nameElement = document.getElementById(nameId);
        
        if (!zone || !input) return;
        
        zone.addEventListener('click', () => input.click());
        
        zone.addEventListener('dragover', (e) => {
          e.preventDefault();
          zone.classList.add('dragover');
        });
        
        zone.addEventListener('dragleave', () => {
          zone.classList.remove('dragover');
        });
        
        zone.addEventListener('drop', (e) => {
          e.preventDefault();
          zone.classList.remove('dragover');
          
          const files = e.dataTransfer.files;
          if (files.length > 0) {
            if (multiple) {
              input.files = files;
            } else {
              const dt = new DataTransfer();
              dt.items.add(files[0]);
              input.files = dt.files;
            }
            updateFileInfo(input, info, nameElement);
          }
        });
        
        input.addEventListener('change', () => {
          updateFileInfo(input, info, nameElement);
        });
      }
      
      function updateFileInfo(input, info, nameElement) {
        if (input.files.length > 0) {
          const fileNames = Array.from(input.files).map(f => f.name).join(', ');
          nameElement.textContent = fileNames;
          info.classList.add('active');
        } else {
          info.classList.remove('active');
        }
      }
      
      // Setup all upload zones
      setupUploadZone('mergeUploadZone', 'mergeFiles', 'mergeFileInfo', 'mergeFileNames', true);
      setupUploadZone('splitUploadZone', 'splitFile', 'splitFileInfo', 'splitFileName');
      setupUploadZone('compressUploadZone', 'compressFile', 'compressFileInfo', 'compressFileName');
      setupUploadZone('wordUploadZone', 'pdfToWordFile', 'wordFileInfo', 'wordFileName');
      setupUploadZone('excelUploadZone', 'pdfToExcelFile', 'excelFileInfo', 'excelFileName');
      
      // Handle form submissions
      function handleFormSubmit(formId, endpoint, progressId) {
        const form = document.getElementById(formId);
        const progress = document.getElementById(progressId);
        
        if (!form) return;
        
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          
          const formData = new FormData(form);
          const submitBtn = form.querySelector('button[type="submit"]');
          const originalContent = submitBtn.innerHTML;
          const progressFill = progress ? progress.querySelector('.progress-bar-fill') : null;
          let interval;
          
          // Validate files
          const fileInputs = form.querySelectorAll('input[type="file"]');
          let hasFiles = false;
          for (let input of fileInputs) {
            if (input.files && input.files.length > 0) {
              hasFiles = true;
              break;
            }
          }
          
          if (!hasFiles) {
            alert('Please select at least one PDF file');
            return;
          }
          
          submitBtn.disabled = true;
          submitBtn.innerHTML = '<i class="bx bx-loader-alt bx-spin"></i> Processing...';
          
          if (progress && progressFill) {
            progress.classList.add('active');
            progressFill.style.width = '0%';
            
            // Animate progress
            let width = 0;
            interval = setInterval(() => {
              if (width < 90) {
                width += 10;
                progressFill.style.width = width + '%';
              }
            }, 200);
          }
          
          try {
            const response = await fetch(endpoint, {
              method: 'POST',
              body: formData
            });
            
            if (response.ok) {
              if (progressFill) progressFill.style.width = '100%';
              
              const blob = await response.blob();
              const url = window.URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              
              // Set proper filename based on endpoint
              let filename = 'processed_file';
              if (endpoint.includes('merge')) filename = 'merged.pdf';
              else if (endpoint.includes('split')) filename = 'split_pages.zip';
              else if (endpoint.includes('compress')) filename = 'compressed.pdf';
              else if (endpoint.includes('to-word')) filename = 'converted.docx';
              else if (endpoint.includes('to-excel')) filename = 'converted.xlsx';
              
              a.download = filename;
              document.body.appendChild(a);
              a.click();
              window.URL.revokeObjectURL(url);
              document.body.removeChild(a);
              
              form.reset();
              
              // Reset file info
              const fileInfo = form.querySelector('.file-info');
              if (fileInfo) fileInfo.classList.remove('active');
              
              setTimeout(() => {
                if (progress) {
                  progress.classList.remove('active');
                  if (progressFill) progressFill.style.width = '0%';
                }
              }, 1000);
            } else {
              const errorText = await response.text();
              let errorMsg = 'Processing failed';
              try {
                const errorJson = JSON.parse(errorText);
                errorMsg = errorJson.error || errorMsg;
              } catch (e) {
                errorMsg = errorText || errorMsg;
              }
              alert(errorMsg);
            }
          } catch (error) {
            console.error('Error:', error);
            alert('Error: ' + error.message);
          } finally {
            if (interval) {
              clearInterval(interval);
            }
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalContent;
          }
        });
      }
      
      // Initialize all forms
      handleFormSubmit('mergePdfForm', '/api/pdf/merge', 'mergeProgress');
      handleFormSubmit('splitPdfForm', '/api/pdf/split', 'splitProgress');
      handleFormSubmit('compressPdfForm', '/api/pdf/compress', 'compressProgress');
      handleFormSubmit('pdfToWordForm', '/api/pdf/to-word', 'wordProgress');
      handleFormSubmit('pdfToExcelForm', '/api/pdf/to-excel', 'excelProgress');
    </script>
  </body>
</html>


